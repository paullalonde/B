<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>B: B::ExceptionStreamer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">B
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceB.html">B</a></li><li class="navelem"><a class="el" href="classB_1_1ExceptionStreamer.html">ExceptionStreamer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classB_1_1ExceptionStreamer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">B::ExceptionStreamer Class Reference<div class="ingroups"><a class="el" href="group__ExceptionGroup.html">Error Handling</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Exception serialisation support.  
 <a href="classB_1_1ExceptionStreamer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="BExceptionStreamer_8h_source.html">BExceptionStreamer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for B::ExceptionStreamer:</div>
<div class="dyncontent">
<div class="center"><img src="classB_1_1ExceptionStreamer__inherit__graph.png" border="0" usemap="#B_1_1ExceptionStreamer_inherit__map" alt="Inheritance graph"/></div>
<map name="B_1_1ExceptionStreamer_inherit__map" id="B_1_1ExceptionStreamer_inherit__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1ExceptionStreamer_1_1CustomRethrower.html">CustomRethrower</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Serialisation / Deserialisation</div></td></tr>
<tr class="memitem:a25070c7979af201cb755eddb5d1bc9ed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a25070c7979af201cb755eddb5d1bc9ed"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1ExceptionStreamer.html#a25070c7979af201cb755eddb5d1bc9ed">Externalize</a> (const std::exception &amp;ex, std::ostream &amp;ostr) const </td></tr>
<tr class="memdesc:a25070c7979af201cb755eddb5d1bc9ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write out the state of <em>ex</em> to <em>ostr</em>. <br /></td></tr>
<tr class="separator:a25070c7979af201cb755eddb5d1bc9ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a970c86a85eddbb91e61431b9ae5baac6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a970c86a85eddbb91e61431b9ae5baac6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1ExceptionStreamer.html#a970c86a85eddbb91e61431b9ae5baac6">Rethrow</a> (std::istream &amp;istr) const </td></tr>
<tr class="memdesc:a970c86a85eddbb91e61431b9ae5baac6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiate an exception object matching the contents of <em>istr</em>, then throw it. <br /></td></tr>
<tr class="separator:a970c86a85eddbb91e61431b9ae5baac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Singleton Access</div></td></tr>
<tr class="memitem:a96744269e047f002e7de77ffb772fa30"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a96744269e047f002e7de77ffb772fa30"></a>
static boost::intrusive_ptr&lt; <a class="el" href="classB_1_1ExceptionStreamer.html">ExceptionStreamer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1ExceptionStreamer.html#a96744269e047f002e7de77ffb772fa30">Get</a> ()</td></tr>
<tr class="memdesc:a96744269e047f002e7de77ffb772fa30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <a class="el" href="classB_1_1ExceptionStreamer.html" title="Exception serialisation support. ">ExceptionStreamer</a> instance. <br /></td></tr>
<tr class="separator:a96744269e047f002e7de77ffb772fa30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Registration</div></td></tr>
<tr class="memitem:ac12023b486e1da525a8a2e1f756b4d92"><td class="memTemplParams" colspan="2"><a class="anchor" id="ac12023b486e1da525a8a2e1f756b4d92"></a>
template&lt;class EXCEPTION &gt; </td></tr>
<tr class="memitem:ac12023b486e1da525a8a2e1f756b4d92"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classB_1_1ExceptionStreamer.html#ac12023b486e1da525a8a2e1f756b4d92">Register</a> ()</td></tr>
<tr class="memdesc:ac12023b486e1da525a8a2e1f756b4d92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register class <em>EXCEPTION</em> for serialisation/deserialisation. <br /></td></tr>
<tr class="separator:ac12023b486e1da525a8a2e1f756b4d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a085cd3c796e923536d70fdd20e40d99a"><td class="memTemplParams" colspan="2"><a class="anchor" id="a085cd3c796e923536d70fdd20e40d99a"></a>
template&lt;class RETHROWER &gt; </td></tr>
<tr class="memitem:a085cd3c796e923536d70fdd20e40d99a"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classB_1_1ExceptionStreamer.html#a085cd3c796e923536d70fdd20e40d99a">RegisterRethrower</a> ()</td></tr>
<tr class="memdesc:a085cd3c796e923536d70fdd20e40d99a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register rethrower <em>RETHROWER</em> for serialisation/deserialisation. <br /></td></tr>
<tr class="separator:a085cd3c796e923536d70fdd20e40d99a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69fb4466c21fffb3f4bf0e9eb736d926"><td class="memTemplParams" colspan="2"><a class="anchor" id="a69fb4466c21fffb3f4bf0e9eb736d926"></a>
template&lt;class EXCEPTION &gt; </td></tr>
<tr class="memitem:a69fb4466c21fffb3f4bf0e9eb736d926"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classB_1_1ExceptionStreamer.html#a69fb4466c21fffb3f4bf0e9eb736d926">Unregister</a> ()</td></tr>
<tr class="memdesc:a69fb4466c21fffb3f4bf0e9eb736d926"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister class <em>EXCEPTION</em>. <br /></td></tr>
<tr class="separator:a69fb4466c21fffb3f4bf0e9eb736d926"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a803d757d76ca65f7acb315e161d95596"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a803d757d76ca65f7acb315e161d95596"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>intrusive_ptr_add_ref</b> (<a class="el" href="classB_1_1ExceptionStreamer.html">ExceptionStreamer</a> *s)</td></tr>
<tr class="separator:a803d757d76ca65f7acb315e161d95596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a749649f941176cafb64bf19132727961"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a749649f941176cafb64bf19132727961"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>intrusive_ptr_release</b> (<a class="el" href="classB_1_1ExceptionStreamer.html">ExceptionStreamer</a> *s)</td></tr>
<tr class="separator:a749649f941176cafb64bf19132727961"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Exception serialisation support. </p>
<p><a class="el" href="classB_1_1ExceptionStreamer.html" title="Exception serialisation support. ">ExceptionStreamer</a> is a singleton that manages the serialisation and deserialisation of exception objects.</p>
<p><a class="el" href="classB_1_1ExceptionStreamer.html" title="Exception serialisation support. ">ExceptionStreamer</a> is "told" about exception classes by calling <a class="el" href="classB_1_1ExceptionStreamer.html#ac12023b486e1da525a8a2e1f756b4d92" title="Register class EXCEPTION for serialisation/deserialisation. ">Register&lt;EXCEPTION&gt;()</a>. Once that is done for a given exception class, instances of that class may be safely serialised.</p>
<p>Serialisation is performed by <a class="el" href="classB_1_1ExceptionStreamer.html#a25070c7979af201cb755eddb5d1bc9ed" title="Write out the state of ex to ostr. ">Externalize()</a>, whereas deserialisation is done by <a class="el" href="classB_1_1ExceptionStreamer.html#a970c86a85eddbb91e61431b9ae5baac6" title="Instantiate an exception object matching the contents of istr, then throw it. ">Rethrow()</a>. Developers will rarely if ever need to call these functions directly.</p>
<p>Currently, the format of the serialised exception is a very small XML document:</p>
<pre class="fragment">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;exception class="..." value="..."/&gt;
</pre><p>The <code>class</code> attribute contains the result of <code>typeid(<em>exception-object</em>).name()</code>. The <code>value</code> attribute is optional.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="using_exceptions.html">Exceptions and Error Handling</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>The implementation relies on having a reasonable implementation of <code>typeinfo::name()</code>. The returned string needs to (1) be different for each distinct exception class, and (2) always be the same for each class (the value doesn't change at runtime). Current versions of CodeWarrior and gcc satisfy these requirements; if this class is ever ported to other compilers we'll have to revisit this area. </dd></dl>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="BExceptionStreamer_8h_source.html">BExceptionStreamer.h</a></li>
<li>BExceptionStreamer.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
