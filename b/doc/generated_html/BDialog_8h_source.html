<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>B: BDialog.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">B
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_85ebecfd8b3c6e060c2257c3b57eaa6c.html">Windows</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">BDialog.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// ==========================================================================================</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//  </span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//  Copyright (C) 2004-2006 Paul Lalonde enrg.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//  </span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//  This program is free software;  you can redistribute it and/or modify it under the </span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//  terms of the GNU General Public License as published by the Free Software Foundation;  </span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//  either version 2 of the License, or (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//  </span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//  This program is distributed in the hope that it will be useful, but WITHOUT ANY </span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//  WARRANTY;  without even the implied warranty of MERCHANTABILITY or FITNESS FOR A </span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//  PARTICULAR PURPOSE.  See the GNU General Public License for more details.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//  You should have received a copy of the GNU General Public License along with this </span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//  program; if not, write to the Free Software Foundation, Inc., 59 Temple Place, </span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//  Suite 330, Boston, MA  02111-1307  USA</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">//  </span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// ==========================================================================================</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#ifndef BDialog_H_</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#define BDialog_H_</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// standard headers</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// system headers</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;Carbon/Carbon.h&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">// library headers</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;boost/utility.hpp&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">// B headers</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;BDialogCallback.h&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;BDialogModality.h&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;BWindow.h&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceB.html">B</a> {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#ifdef B_DIALOG_CB</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#   error &quot;Somebody defined B_DIALOG_CB ...&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#   define B_DIALOG_CB  boost::function2&lt;void, const DIALOG&amp;, UInt32&gt;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="classB_1_1Dialog.html">   69</a></span>&#160;<span class="keyword">class </span><a class="code" href="classB_1_1Dialog.html">Dialog</a> : <span class="keyword">public</span> <a class="code" href="classB_1_1Window.html">Window</a></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    </div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> DIALOG&gt; <span class="keyword">struct </span><a class="code" href="structB_1_1Dialog_1_1NullCallback.html">NullCallback</a></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        { <span class="keywordtype">void</span>  operator () (<span class="keyword">const</span> DIALOG&amp;, UInt32)<span class="keyword"> const </span>{} };</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    </div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <a class="code" href="classB_1_1Dialog.html#a314cdeedd90a91403af271ad1559a82c">Dialog</a>(</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                WindowRef       inWindowRef,</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                AEObjectPtr     inContainer,</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                DescType        inClassID = cWindow);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    </div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    UInt32  <a class="code" href="classB_1_1Dialog.html#a98b917249ce33076f21ea4c90e30c010">GetDismissingCommand</a>()<span class="keyword"> const    </span>{ <span class="keywordflow">return</span> (mDismissingCommand); }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    </div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordtype">void</span>    <a class="code" href="classB_1_1Dialog.html#a342dcd6abb93e08b093c8f7cb4b32b28">SetModality</a>(<span class="keyword">const</span> <a class="code" href="classB_1_1DialogModality.html">DialogModality</a>&amp; inModality);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordtype">void</span>    <a class="code" href="classB_1_1Dialog.html#a2d4ebd7876db4ee6596b3c4221a9e151">SetCloseOnDismiss</a>(<span class="keywordtype">bool</span> inCloseOnDismiss);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordtype">void</span>    <a class="code" href="classB_1_1Dialog.html#aa22b7554f3f99b471614ebd37c9b92b4">SetAnimateOnDismiss</a>(<span class="keywordtype">bool</span> inAnimate);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> DIALOG&gt;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordtype">void</span>    <a class="code" href="classB_1_1Dialog.html#a7c8507cc39eef955eef7e12c50824989">SetCallback</a>(B_DIALOG_CB inFunction);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    </div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    </div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> DIALOG&gt;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keyword">static</span> boost::shared_ptr&lt;DIALOG&gt;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                <a class="code" href="classB_1_1Dialog.html#a5d85e99d576c3e2baad772689c6e6406">Make</a>(</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    <a class="code" href="classB_1_1Nib.html">Nib</a>&amp;                    inNib,</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">char</span>*             inDialogName,</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                    AEObjectPtr             inContainer,</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classB_1_1DialogModality.html">DialogModality</a>&amp;   inModality,</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                    B_DIALOG_CB             inFunction = <a class="code" href="structB_1_1Dialog_1_1NullCallback.html">NullCallback&lt;DIALOG&gt;</a>());</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    </div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> DIALOG, <span class="keyword">typename</span> STATE&gt;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keyword">static</span> boost::shared_ptr&lt;DIALOG&gt;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                <a class="code" href="classB_1_1Dialog.html#a2c64f963a8c1a558c4f98462ad532bea">MakeWithState</a>(</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                    <a class="code" href="classB_1_1Nib.html">Nib</a>&amp;                    inNib,</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">char</span>*             inDialogName,</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                    AEObjectPtr             inContainer,</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                    STATE                   inState, </div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classB_1_1DialogModality.html">DialogModality</a>&amp;   inModality,</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                    B_DIALOG_CB             inFunction = <a class="code" href="structB_1_1Dialog_1_1NullCallback.html">NullCallback&lt;DIALOG&gt;</a>());</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    </div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    </div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordtype">void</span>        <a class="code" href="classB_1_1Dialog.html#af1027b8887e8176a7e71ce680a7a9ee1">Enter</a>();</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    </div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> DIALOG&gt;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classB_1_1Dialog.html#af1027b8887e8176a7e71ce680a7a9ee1">Enter</a>(boost::shared_ptr&lt;DIALOG&gt; inDialogPtr);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    </div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    </div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> DIALOG&gt;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classB_1_1Dialog.html#a95decfcec3e1f3b86620ef64274be17f">Start</a>(</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                    <a class="code" href="classB_1_1Nib.html">Nib</a>&amp;                    inNib,</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">char</span>*             inDialogName,</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    AEObjectPtr             inContainer,</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classB_1_1DialogModality.html">DialogModality</a>&amp;   inModality,</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                    B_DIALOG_CB             inFunction = <a class="code" href="structB_1_1Dialog_1_1NullCallback.html">NullCallback&lt;DIALOG&gt;</a>());</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    </div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    </div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    UInt32          <a class="code" href="classB_1_1Dialog.html#ab49e5c6be538774eea3e1f5f58f9f1c7">Run</a>();</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    </div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> DIALOG, <span class="keyword">typename</span> STATE&gt;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keyword">static</span> UInt32   <a class="code" href="classB_1_1Dialog.html#a77b1e9802721d38b91e747e5ead177a7">RunWithState</a>(</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                        <a class="code" href="classB_1_1Nib.html">Nib</a>&amp;        inNib,</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span>* inDialogName,</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                        AEObjectPtr inContainer,</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                        STATE       inState);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> DIALOG&gt;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keyword">static</span> UInt32   <a class="code" href="classB_1_1Dialog.html#ab49e5c6be538774eea3e1f5f58f9f1c7">Run</a>(</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                        <a class="code" href="classB_1_1Nib.html">Nib</a>&amp;        inNib,</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span>* inDialogName,</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                        AEObjectPtr inContainer);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    </div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    UInt32          <a class="code" href="classB_1_1Dialog.html#a1311e3165870286770ae21246ebdcf7f">EnterAppModalLoop</a>();</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    </div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="keyword">protected</span>:</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    </div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="classB_1_1Dialog.html#ace5ac8e4c8ba86456a4031ba14718b78">ConfirmDialog</a>(UInt32 inCommand);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="classB_1_1Dialog.html#a7ded1b77bca60117f4e307e7e9919400">CancelDialog</a>(UInt32 inCommand);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span>    <a class="code" href="classB_1_1Dialog.html#a7234a219812602a53fe807701603cc1c">Validate</a>(UInt32 inCommand);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="classB_1_1Dialog.html#acdd8f3cb940c1c165ea99523d8fb1ce2">DismissDialog</a>(UInt32 inCommand);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    </div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">// overrides from B::Window</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span>    <a class="code" href="classB_1_1Dialog.html#a7e84f217007e5d8e4e311e0b6ef0921d">HandleCommand</a>(<span class="keyword">const</span> HICommandExtended&amp; inHICommand);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    </div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    </div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keyword">typedef</span> DialogCallbackBase1&lt;Dialog, UInt32&gt; CallbackType;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">// Abstract base class for modality-specific functionality.</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keyword">class </span>ModalityHandler : <span class="keyword">public</span> boost::noncopyable</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        </div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keyword">virtual</span> ~ModalityHandler();</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        </div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordtype">bool</span>    IsDisplayed()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> (mDialog != NULL); }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        </div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span>    Display(<a class="code" href="classB_1_1Dialog.html">Dialog</a>* inDialog) = 0;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span>    Dismiss(<span class="keywordtype">bool</span> inClose) = 0;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        </div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keyword">protected</span>:</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        </div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        ModalityHandler() : mDialog(NULL) {}</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        </div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="comment">// member variables</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="classB_1_1Dialog.html">Dialog</a>* mDialog;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    };</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    </div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keyword">class </span>ModelessHandler : <span class="keyword">public</span> ModalityHandler</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        </div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span>    Display(<a class="code" href="classB_1_1Dialog.html">Dialog</a>* inDialog);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span>    Dismiss(<span class="keywordtype">bool</span> inClose);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    };</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keyword">class </span>AppModalHandler : <span class="keyword">public</span> ModalityHandler</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        </div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        AppModalHandler() : mClose(<span class="keyword">false</span>) {}</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        </div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span>    Display(<a class="code" href="classB_1_1Dialog.html">Dialog</a>* inDialog);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span>    Dismiss(<span class="keywordtype">bool</span> inClose);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        </div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        </div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordtype">bool</span>    mClose;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    };</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keyword">class </span>SheetHandler : <span class="keyword">public</span> ModalityHandler</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        </div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keyword">explicit</span>    SheetHandler(WindowRef inParent);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        </div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordtype">void</span>            SetAnimateOnHide(<span class="keywordtype">bool</span> inAnimate)    { mAnimate = inAnimate; }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        </div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span>    Display(<a class="code" href="classB_1_1Dialog.html">Dialog</a>* inDialog);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span>    Dismiss(<span class="keywordtype">bool</span> inClose);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        </div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        </div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        WindowRef   mParent;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordtype">bool</span>        mAnimate;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    };</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    </div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// types</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="classB_1_1Window.html">Window</a>   <a class="code" href="classB_1_1Window.html">inherited</a>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    </div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keyword">static</span> <a class="code" href="classB_1_1OSPtr.html">OSPtr&lt;WindowRef&gt;</a></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            MutateWindowForModality(</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                WindowRef               inWindow,</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                <span class="keyword">const</span> <a class="code" href="classB_1_1DialogModality.html">DialogModality</a>&amp;   inModality);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    </div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// member variables</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    UInt32                          mDismissingCommand; </div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordtype">bool</span>                            mCloseOnDismiss;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    std::auto_ptr&lt;CallbackType&gt;     mCallback;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    std::auto_ptr&lt;ModalityHandler&gt;  mModalityHandler;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;};</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">// ------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> DIALOG&gt; <span class="keywordtype">void</span></div><div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="classB_1_1Dialog.html#a7c8507cc39eef955eef7e12c50824989">  302</a></span>&#160;<a class="code" href="classB_1_1Dialog.html#a7c8507cc39eef955eef7e12c50824989">Dialog::SetCallback</a>(</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    B_DIALOG_CB inFunction)</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    boost::function_requires&lt; boost::ConvertibleConcept&lt;DIALOG*, B::Dialog*&gt; &gt;();</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    </div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    mCallback.reset(<span class="keyword">new</span> DialogCallback1&lt;DIALOG, Dialog, UInt32&gt;(inFunction));</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">// ------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> DIALOG&gt;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;boost::shared_ptr&lt;DIALOG&gt;</div><div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="classB_1_1Dialog.html#a5d85e99d576c3e2baad772689c6e6406">  339</a></span>&#160;<a class="code" href="classB_1_1Dialog.html#a5d85e99d576c3e2baad772689c6e6406">Dialog::Make</a>(</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="classB_1_1Nib.html">Nib</a>&amp;                    inNib,          </div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>*             inDialogName,   </div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    AEObjectPtr             inContainer,    </div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keyword">const</span> <a class="code" href="classB_1_1DialogModality.html">DialogModality</a>&amp;   inModality,     </div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    B_DIALOG_CB             inFunction <span class="comment">/* = NullCallback&lt;DIALOG&gt;() */</span>)  </div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;{</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    boost::function_requires&lt; boost::ConvertibleConcept&lt;DIALOG*, B::Dialog*&gt; &gt;();</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    </div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="comment">// Read in the window from the nib file.</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="classB_1_1OSPtr.html">OSPtr&lt;WindowRef&gt;</a>    windowRef(inNib.CreateWindow(inDialogName));</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    </div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">// Mutate the window if necessary.  If a mutation is necessary, windowRef (being </span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="comment">// a smart pointer) will take care of releasing the original window.</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    windowRef = MutateWindowForModality(windowRef, inModality);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    </div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">// Instantiate the dialog object.</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    boost::shared_ptr&lt;DIALOG&gt;   dialogPtr(<span class="keyword">new</span> DIALOG(windowRef, inContainer), </div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                                          <a class="code" href="structB_1_1Window_1_1WindowDeleter.html">WindowDeleter</a>());</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    </div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="comment">// Finish initialising the Window part of the object.</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    dialogPtr-&gt;PostCreateWindow(&amp;inNib);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    </div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">// Initialise the Dialog part of the object.</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    dialogPtr-&gt;SetModality(inModality);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    dialogPtr-&gt;SetCallback(inFunction);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    </div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">return</span> (dialogPtr);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;}</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">// ------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> DIALOG, <span class="keyword">typename</span> STATE&gt;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;boost::shared_ptr&lt;DIALOG&gt;</div><div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="classB_1_1Dialog.html#a2c64f963a8c1a558c4f98462ad532bea">  383</a></span>&#160;<a class="code" href="classB_1_1Dialog.html#a2c64f963a8c1a558c4f98462ad532bea">Dialog::MakeWithState</a>(</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="classB_1_1Nib.html">Nib</a>&amp;                    inNib,          </div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>*             inDialogName,   </div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    AEObjectPtr             inContainer,    </div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    STATE                   inState,        </div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keyword">const</span> <a class="code" href="classB_1_1DialogModality.html">DialogModality</a>&amp;   inModality,     </div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    B_DIALOG_CB             inFunction <span class="comment">/* = NullCallback&lt;DIALOG&gt;() */</span>)  </div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;{</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    boost::function_requires&lt; boost::ConvertibleConcept&lt;DIALOG*, B::Dialog*&gt; &gt;();</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    boost::function_requires&lt; boost::CopyConstructibleConcept&lt;STATE&gt; &gt;();</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    </div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="comment">// Read in the window from the nib file.</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="classB_1_1OSPtr.html">OSPtr&lt;WindowRef&gt;</a>    windowRef(inNib.CreateWindow(inDialogName));</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    </div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="comment">// Mutate the window if necessary.  If a mutation is necessary, windowRef (being </span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="comment">// a smart pointer) will take care of releasing the original window.</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    windowRef = MutateWindowForModality(windowRef, inModality);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    </div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="comment">// Instantiate the dialog object.</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    boost::shared_ptr&lt;DIALOG&gt;   dialogPtr(<span class="keyword">new</span> DIALOG(windowRef, inContainer, inState), </div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                                          <a class="code" href="structB_1_1Window_1_1WindowDeleter.html">WindowDeleter</a>());</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    </div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="comment">// Finish initialising the Window part of the object.</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    dialogPtr-&gt;PostCreateWindow(&amp;inNib);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    </div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="comment">// Initialise the Dialog part of the object.</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    dialogPtr-&gt;SetModality(inModality);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    dialogPtr-&gt;SetCallback(inFunction);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    </div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">return</span> (dialogPtr);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;}</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">// ------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> DIALOG&gt; <span class="keywordtype">void</span></div><div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="classB_1_1Dialog.html#a78f2edf07c340d633a49dfa9b0cfcc18">  417</a></span>&#160;<a class="code" href="classB_1_1Dialog.html#af1027b8887e8176a7e71ce680a7a9ee1">Dialog::Enter</a>(</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    boost::shared_ptr&lt;DIALOG&gt;   inDialogPtr)    </div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;{</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    boost::function_requires&lt; boost::ConvertibleConcept&lt;DIALOG*, B::Dialog*&gt; &gt;();</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    </div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">// The caller doesn&#39;t have any way of identifying the dialog, so dispose of it </span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment">// upon dismissal.</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    inDialogPtr-&gt;SetCloseOnDismiss(<span class="keyword">true</span>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    </div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="comment">// Enter the dialog.  This may or may not return until it has been dismissed.</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    inDialogPtr-&gt;Enter();</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;}</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">// ------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> DIALOG&gt; <span class="keywordtype">void</span></div><div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="classB_1_1Dialog.html#a95decfcec3e1f3b86620ef64274be17f">  448</a></span>&#160;<a class="code" href="classB_1_1Dialog.html#a95decfcec3e1f3b86620ef64274be17f">Dialog::Start</a>(</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="classB_1_1Nib.html">Nib</a>&amp;                    inNib,          </div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>*             inDialogName,   </div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    AEObjectPtr             inContainer,    </div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keyword">const</span> <a class="code" href="classB_1_1DialogModality.html">DialogModality</a>&amp;   inModality,     </div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    B_DIALOG_CB             inFunction <span class="comment">/* = NullCallback&lt;DIALOG&gt;() */</span>)  </div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;{</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="classB_1_1Dialog.html#af1027b8887e8176a7e71ce680a7a9ee1">Enter</a>(Make&lt;DIALOG&gt;(inNib, inDialogName, inContainer, inModality, inFunction));</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;}</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">// ------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> DIALOG, <span class="keyword">typename</span> STATE&gt; UInt32</div><div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="classB_1_1Dialog.html#a77b1e9802721d38b91e747e5ead177a7">  475</a></span>&#160;<a class="code" href="classB_1_1Dialog.html#a77b1e9802721d38b91e747e5ead177a7">Dialog::RunWithState</a>(</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="classB_1_1Nib.html">Nib</a>&amp;        inNib,          </div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* inDialogName,   </div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    AEObjectPtr inContainer,    </div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    STATE       inState)        </div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;{</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    boost::shared_ptr&lt;DIALOG&gt;   dialogPtr;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    </div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    dialogPtr = MakeWithState&lt;DIALOG&gt;(inNib, inDialogName, inContainer, inState, </div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                                      <a class="code" href="classB_1_1DialogModality.html#a5ad39c0aad1dbeb4cc8d48a72ac891ab">DialogModality::Modal</a>());</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    </div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="comment">// Enter the dialog, wait for dismissal, and return the dismissing command.</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">return</span> (dialogPtr-&gt;Run());</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">// ------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> DIALOG&gt; UInt32</div><div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="classB_1_1Dialog.html#a6afac6911418e891cc86de6f686d854e">  501</a></span>&#160;<a class="code" href="classB_1_1Dialog.html#ab49e5c6be538774eea3e1f5f58f9f1c7">Dialog::Run</a>(</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <a class="code" href="classB_1_1Nib.html">Nib</a>&amp;        inNib,          </div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* inDialogName,   </div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    AEObjectPtr inContainer)    </div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;{</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    boost::shared_ptr&lt;DIALOG&gt;   dialogPtr;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    </div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    dialogPtr = Make&lt;DIALOG&gt;(inNib, inDialogName, inContainer, </div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                             <a class="code" href="classB_1_1DialogModality.html#a5ad39c0aad1dbeb4cc8d48a72ac891ab">DialogModality::Modal</a>());</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    </div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">// Enter the dialog, wait for dismissal, and return the dismissing command.</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">return</span> (dialogPtr-&gt;Run());</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;}</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">// We don&#39;t need this anymore</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="preprocessor">#undef B_DIALOG_CB</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;}   <span class="comment">// namespace B</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="preprocessor">#endif  // BDialog_H_</span></div><div class="ttc" id="namespaceB_html"><div class="ttname"><a href="namespaceB.html">B</a></div><div class="ttdoc">The B framework&amp;#39;s namespace. </div><div class="ttdef"><b>Definition:</b> dialogs_alerts_nav.doxy:19</div></div>
<div class="ttc" id="classB_1_1Dialog_html_a7ded1b77bca60117f4e307e7e9919400"><div class="ttname"><a href="classB_1_1Dialog.html#a7ded1b77bca60117f4e307e7e9919400">B::Dialog::CancelDialog</a></div><div class="ttdeci">virtual void CancelDialog(UInt32 inCommand)</div><div class="ttdoc">Called in response to dialog-infirming action on the part of the user. </div><div class="ttdef"><b>Definition:</b> BDialog.cpp:232</div></div>
<div class="ttc" id="classB_1_1Dialog_html_a7234a219812602a53fe807701603cc1c"><div class="ttname"><a href="classB_1_1Dialog.html#a7234a219812602a53fe807701603cc1c">B::Dialog::Validate</a></div><div class="ttdeci">virtual bool Validate(UInt32 inCommand)</div><div class="ttdoc">Hook to perform input validation. </div><div class="ttdef"><b>Definition:</b> BDialog.cpp:248</div></div>
<div class="ttc" id="classB_1_1Dialog_html_af1027b8887e8176a7e71ce680a7a9ee1"><div class="ttname"><a href="classB_1_1Dialog.html#af1027b8887e8176a7e71ce680a7a9ee1">B::Dialog::Enter</a></div><div class="ttdeci">void Enter()</div><div class="ttdoc">Displays the dialog according to its modality. </div><div class="ttdef"><b>Definition:</b> BDialog.cpp:117</div></div>
<div class="ttc" id="classB_1_1Dialog_html_a5d85e99d576c3e2baad772689c6e6406"><div class="ttname"><a href="classB_1_1Dialog.html#a5d85e99d576c3e2baad772689c6e6406">B::Dialog::Make</a></div><div class="ttdeci">static boost::shared_ptr&lt; DIALOG &gt; Make(Nib &amp;inNib, const char *inDialogName, AEObjectPtr inContainer, const DialogModality &amp;inModality, B_DIALOG_CB inFunction=NullCallback&lt; DIALOG &gt;())</div><div class="ttdoc">Instantiates and returns a DIALOG with the given modality and callback. </div><div class="ttdef"><b>Definition:</b> BDialog.h:339</div></div>
<div class="ttc" id="classB_1_1Window_html"><div class="ttname"><a href="classB_1_1Window.html">B::Window</a></div><div class="ttdoc">A Window Manager window. </div><div class="ttdef"><b>Definition:</b> BWindow.h:71</div></div>
<div class="ttc" id="classB_1_1Dialog_html_ace5ac8e4c8ba86456a4031ba14718b78"><div class="ttname"><a href="classB_1_1Dialog.html#ace5ac8e4c8ba86456a4031ba14718b78">B::Dialog::ConfirmDialog</a></div><div class="ttdeci">virtual void ConfirmDialog(UInt32 inCommand)</div><div class="ttdoc">Called in response to dialog-confirming action on the part of the user. </div><div class="ttdef"><b>Definition:</b> BDialog.cpp:216</div></div>
<div class="ttc" id="classB_1_1Dialog_html_a95decfcec3e1f3b86620ef64274be17f"><div class="ttname"><a href="classB_1_1Dialog.html#a95decfcec3e1f3b86620ef64274be17f">B::Dialog::Start</a></div><div class="ttdeci">static void Start(Nib &amp;inNib, const char *inDialogName, AEObjectPtr inContainer, const DialogModality &amp;inModality, B_DIALOG_CB inFunction=NullCallback&lt; DIALOG &gt;())</div><div class="ttdoc">Instantiates a DIALOG with the given modality and callback, then enters it. </div><div class="ttdef"><b>Definition:</b> BDialog.h:448</div></div>
<div class="ttc" id="classB_1_1Dialog_html_a314cdeedd90a91403af271ad1559a82c"><div class="ttname"><a href="classB_1_1Dialog.html#a314cdeedd90a91403af271ad1559a82c">B::Dialog::Dialog</a></div><div class="ttdeci">Dialog(WindowRef inWindowRef, AEObjectPtr inContainer, DescType inClassID=cWindow)</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> BDialog.cpp:38</div></div>
<div class="ttc" id="classB_1_1Dialog_html"><div class="ttname"><a href="classB_1_1Dialog.html">B::Dialog</a></div><div class="ttdoc">Modal Dialogs, Modeless Dialogs, and Sheets. </div><div class="ttdef"><b>Definition:</b> BDialog.h:69</div></div>
<div class="ttc" id="classB_1_1Dialog_html_a98b917249ce33076f21ea4c90e30c010"><div class="ttname"><a href="classB_1_1Dialog.html#a98b917249ce33076f21ea4c90e30c010">B::Dialog::GetDismissingCommand</a></div><div class="ttdeci">UInt32 GetDismissingCommand() const </div><div class="ttdoc">Returns the dialog&amp;#39;s dismissing command. </div><div class="ttdef"><b>Definition:</b> BDialog.h:89</div></div>
<div class="ttc" id="classB_1_1Dialog_html_a7c8507cc39eef955eef7e12c50824989"><div class="ttname"><a href="classB_1_1Dialog.html#a7c8507cc39eef955eef7e12c50824989">B::Dialog::SetCallback</a></div><div class="ttdeci">void SetCallback(B_DIALOG_CB inFunction)</div><div class="ttdoc">Installs a callback that will be called once the dialog is dismissed. </div><div class="ttdef"><b>Definition:</b> BDialog.h:302</div></div>
<div class="ttc" id="structB_1_1Window_1_1WindowDeleter_html"><div class="ttname"><a href="structB_1_1Window_1_1WindowDeleter.html">B::Window::WindowDeleter</a></div><div class="ttdef"><b>Definition:</b> BWindow.h:349</div></div>
<div class="ttc" id="classB_1_1Dialog_html_ab49e5c6be538774eea3e1f5f58f9f1c7"><div class="ttname"><a href="classB_1_1Dialog.html#ab49e5c6be538774eea3e1f5f58f9f1c7">B::Dialog::Run</a></div><div class="ttdeci">UInt32 Run()</div><div class="ttdoc">Displays the dialog in an application-modal fashion. </div><div class="ttdef"><b>Definition:</b> BDialog.cpp:152</div></div>
<div class="ttc" id="classB_1_1OSPtr_html"><div class="ttname"><a href="classB_1_1OSPtr.html">B::OSPtr&lt; WindowRef &gt;</a></div></div>
<div class="ttc" id="classB_1_1Nib_html"><div class="ttname"><a href="classB_1_1Nib.html">B::Nib</a></div><div class="ttdoc">Helper class for loading nib-based UI. </div><div class="ttdef"><b>Definition:</b> BNib.h:45</div></div>
<div class="ttc" id="classB_1_1Dialog_html_acdd8f3cb940c1c165ea99523d8fb1ce2"><div class="ttname"><a href="classB_1_1Dialog.html#acdd8f3cb940c1c165ea99523d8fb1ce2">B::Dialog::DismissDialog</a></div><div class="ttdeci">virtual void DismissDialog(UInt32 inCommand)</div><div class="ttdoc">Dismisses the dialog. </div><div class="ttdef"><b>Definition:</b> BDialog.cpp:195</div></div>
<div class="ttc" id="classB_1_1Dialog_html_a342dcd6abb93e08b093c8f7cb4b32b28"><div class="ttname"><a href="classB_1_1Dialog.html#a342dcd6abb93e08b093c8f7cb4b32b28">B::Dialog::SetModality</a></div><div class="ttdeci">void SetModality(const DialogModality &amp;inModality)</div><div class="ttdoc">Sets the dialog&amp;#39;s modality, which determines its behaviour when it is displayed and dismissed...</div><div class="ttdef"><b>Definition:</b> BDialog.cpp:49</div></div>
<div class="ttc" id="classB_1_1Dialog_html_a1311e3165870286770ae21246ebdcf7f"><div class="ttname"><a href="classB_1_1Dialog.html#a1311e3165870286770ae21246ebdcf7f">B::Dialog::EnterAppModalLoop</a></div><div class="ttdeci">UInt32 EnterAppModalLoop()</div><div class="ttdoc">Deprecated. Use Run() instead. </div><div class="ttdef"><b>Definition:</b> BDialog.cpp:172</div></div>
<div class="ttc" id="classB_1_1Dialog_html_a7e84f217007e5d8e4e311e0b6ef0921d"><div class="ttname"><a href="classB_1_1Dialog.html#a7e84f217007e5d8e4e311e0b6ef0921d">B::Dialog::HandleCommand</a></div><div class="ttdeci">virtual bool HandleCommand(const HICommandExtended &amp;inHICommand)</div><div class="ttdef"><b>Definition:</b> BDialog.cpp:261</div></div>
<div class="ttc" id="structB_1_1Dialog_1_1NullCallback_html"><div class="ttname"><a href="structB_1_1Dialog_1_1NullCallback.html">B::Dialog::NullCallback</a></div><div class="ttdoc">Convenience callback that does nothing. </div><div class="ttdef"><b>Definition:</b> BDialog.h:76</div></div>
<div class="ttc" id="classB_1_1Dialog_html_a2d4ebd7876db4ee6596b3c4221a9e151"><div class="ttname"><a href="classB_1_1Dialog.html#a2d4ebd7876db4ee6596b3c4221a9e151">B::Dialog::SetCloseOnDismiss</a></div><div class="ttdeci">void SetCloseOnDismiss(bool inCloseOnDismiss)</div><div class="ttdoc">Determines whether the dialog gets closed (i.e. destroyed) after it&amp;#39;s dismissed. </div><div class="ttdef"><b>Definition:</b> BDialog.cpp:76</div></div>
<div class="ttc" id="classB_1_1DialogModality_html_a5ad39c0aad1dbeb4cc8d48a72ac891ab"><div class="ttname"><a href="classB_1_1DialogModality.html#a5ad39c0aad1dbeb4cc8d48a72ac891ab">B::DialogModality::Modal</a></div><div class="ttdeci">static DialogModality Modal()</div><div class="ttdoc">Instantiates an object of modality kWindowModalityAppModal (i.e., a modal dialog). </div><div class="ttdef"><b>Definition:</b> BDialogModality.cpp:37</div></div>
<div class="ttc" id="classB_1_1DialogModality_html"><div class="ttname"><a href="classB_1_1DialogModality.html">B::DialogModality</a></div><div class="ttdoc">Helper object representing a dialog&amp;#39;s modality. </div><div class="ttdef"><b>Definition:</b> BDialogModality.h:50</div></div>
<div class="ttc" id="classB_1_1Dialog_html_a2c64f963a8c1a558c4f98462ad532bea"><div class="ttname"><a href="classB_1_1Dialog.html#a2c64f963a8c1a558c4f98462ad532bea">B::Dialog::MakeWithState</a></div><div class="ttdeci">static boost::shared_ptr&lt; DIALOG &gt; MakeWithState(Nib &amp;inNib, const char *inDialogName, AEObjectPtr inContainer, STATE inState, const DialogModality &amp;inModality, B_DIALOG_CB inFunction=NullCallback&lt; DIALOG &gt;())</div><div class="ttdoc">Instantiates and returns a DIALOG with the given modality and callback, passing inState to its constr...</div><div class="ttdef"><b>Definition:</b> BDialog.h:383</div></div>
<div class="ttc" id="classB_1_1Dialog_html_a77b1e9802721d38b91e747e5ead177a7"><div class="ttname"><a href="classB_1_1Dialog.html#a77b1e9802721d38b91e747e5ead177a7">B::Dialog::RunWithState</a></div><div class="ttdeci">static UInt32 RunWithState(Nib &amp;inNib, const char *inDialogName, AEObjectPtr inContainer, STATE inState)</div><div class="ttdoc">Instantiates a DIALOG, then enters a modal event loop for it. </div><div class="ttdef"><b>Definition:</b> BDialog.h:475</div></div>
<div class="ttc" id="classB_1_1Dialog_html_aa22b7554f3f99b471614ebd37c9b92b4"><div class="ttname"><a href="classB_1_1Dialog.html#aa22b7554f3f99b471614ebd37c9b92b4">B::Dialog::SetAnimateOnDismiss</a></div><div class="ttdeci">void SetAnimateOnDismiss(bool inAnimate)</div><div class="ttdoc">Determines whether the dialog will animate when it&amp;#39;s dismissed. </div><div class="ttdef"><b>Definition:</b> BDialog.cpp:93</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
