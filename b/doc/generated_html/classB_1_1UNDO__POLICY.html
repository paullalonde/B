<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>B: B::UNDO_POLICY Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">B
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceB.html">B</a></li><li class="navelem"><a class="el" href="classB_1_1UNDO__POLICY.html">UNDO_POLICY</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classB_1_1UNDO__POLICY-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">B::UNDO_POLICY Class Reference<div class="ingroups"><a class="el" href="group__UndoGroup.html">Undo</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Template for an <a class="el" href="classB_1_1Undo.html" title="Client interface to the Undo mechanism. ">Undo</a> Policy class.  
 <a href="classB_1_1UNDO__POLICY.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="BUndoPolicyConcept_8h_source.html">BUndoPolicyConcept.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Types</div></td></tr>
<tr class="memitem:abd029aceee83143205261271f9be918a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abd029aceee83143205261271f9be918a"></a>
typedef boost::signal0&lt; void &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#abd029aceee83143205261271f9be918a">Signal</a></td></tr>
<tr class="memdesc:abd029aceee83143205261271f9be918a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shorthand for the type of signal used by the undo policy. <br /></td></tr>
<tr class="separator:abd029aceee83143205261271f9be918a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Constructor &amp; Destructor</div></td></tr>
<tr class="memitem:adcd53cae421ddae23a4e42db6f1b066d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#adcd53cae421ddae23a4e42db6f1b066d">UNDO_POLICY</a> (EventTargetRef inTarget, const <a class="el" href="classB_1_1Bundle.html">Bundle</a> &amp;inBundle)</td></tr>
<tr class="memdesc:adcd53cae421ddae23a4e42db6f1b066d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#adcd53cae421ddae23a4e42db6f1b066d">More...</a><br /></td></tr>
<tr class="separator:adcd53cae421ddae23a4e42db6f1b066d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c21bb34b7e1abc03ad27f56d4b17a20"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2c21bb34b7e1abc03ad27f56d4b17a20"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#a2c21bb34b7e1abc03ad27f56d4b17a20">~UNDO_POLICY</a> ()</td></tr>
<tr class="memdesc:a2c21bb34b7e1abc03ad27f56d4b17a20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a2c21bb34b7e1abc03ad27f56d4b17a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Setup</div></td></tr>
<tr class="memitem:a99d8b2e3769ee6f590f68f6c9396051f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#a99d8b2e3769ee6f590f68f6c9396051f">RegisterAppleEvents</a> (<a class="el" href="classB_1_1AEObjectSupport.html">AEObjectSupport</a> &amp;ioObjectSupport)</td></tr>
<tr class="memdesc:a99d8b2e3769ee6f590f68f6c9396051f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Installs Apple Event handlers for Undo-related AppleEvents.  <a href="#a99d8b2e3769ee6f590f68f6c9396051f">More...</a><br /></td></tr>
<tr class="separator:a99d8b2e3769ee6f590f68f6c9396051f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Inquiries</div></td></tr>
<tr class="memitem:a210b674f530843ee89b4ac46d2222aa7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a210b674f530843ee89b4ac46d2222aa7"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#a210b674f530843ee89b4ac46d2222aa7">IsUndoing</a> () const </td></tr>
<tr class="memdesc:a210b674f530843ee89b4ac46d2222aa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <code>true</code> if we are currently in the process of undoing an action group. <br /></td></tr>
<tr class="separator:a210b674f530843ee89b4ac46d2222aa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7f07d7a83db8092cc9dc47b1ef5a5b5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af7f07d7a83db8092cc9dc47b1ef5a5b5"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#af7f07d7a83db8092cc9dc47b1ef5a5b5">IsRedoing</a> () const </td></tr>
<tr class="memdesc:af7f07d7a83db8092cc9dc47b1ef5a5b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <code>true</code> if we are currently in the process of redoing an action group. <br /></td></tr>
<tr class="separator:af7f07d7a83db8092cc9dc47b1ef5a5b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4e49547369ac15ac9b493f5fba5d7a0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#aa4e49547369ac15ac9b493f5fba5d7a0">IsEnabled</a> () const </td></tr>
<tr class="memdesc:aa4e49547369ac15ac9b493f5fba5d7a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <code>true</code> if the undo mechanism is enabled.  <a href="#aa4e49547369ac15ac9b493f5fba5d7a0">More...</a><br /></td></tr>
<tr class="separator:aa4e49547369ac15ac9b493f5fba5d7a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfa462719d9aa81f8657e616c67bcdeb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acfa462719d9aa81f8657e616c67bcdeb"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#acfa462719d9aa81f8657e616c67bcdeb">CanUndo</a> () const </td></tr>
<tr class="memdesc:acfa462719d9aa81f8657e616c67bcdeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <code>true</code> if there is at least one action in the undo stack. <br /></td></tr>
<tr class="separator:acfa462719d9aa81f8657e616c67bcdeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83c3f970490b0b4b910cff69dc27ec36"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a83c3f970490b0b4b910cff69dc27ec36"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#a83c3f970490b0b4b910cff69dc27ec36">CanRedo</a> () const </td></tr>
<tr class="memdesc:a83c3f970490b0b4b910cff69dc27ec36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <code>true</code> if there is at least one action in the redo stack. <br /></td></tr>
<tr class="separator:a83c3f970490b0b4b910cff69dc27ec36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e13671bd53f8ea9f02d794a511b6f50"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3e13671bd53f8ea9f02d794a511b6f50"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#a3e13671bd53f8ea9f02d794a511b6f50">GetMaxLevels</a> () const </td></tr>
<tr class="memdesc:a3e13671bd53f8ea9f02d794a511b6f50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the maximum size of the undo/redo stacks. <br /></td></tr>
<tr class="separator:a3e13671bd53f8ea9f02d794a511b6f50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad59b4fe744859f119c889b1a4700de51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classB_1_1String.html">String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#ad59b4fe744859f119c889b1a4700de51">GetUndoText</a> () const </td></tr>
<tr class="memdesc:ad59b4fe744859f119c889b1a4700de51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string describing the action group at the top of the undo stack.  <a href="#ad59b4fe744859f119c889b1a4700de51">More...</a><br /></td></tr>
<tr class="separator:ad59b4fe744859f119c889b1a4700de51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc9166d9614949b57c1b6f9db9cfeac1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classB_1_1String.html">String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#acc9166d9614949b57c1b6f9db9cfeac1">GetRedoText</a> () const </td></tr>
<tr class="memdesc:acc9166d9614949b57c1b6f9db9cfeac1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string describing the action group at the top of the redo stack.  <a href="#acc9166d9614949b57c1b6f9db9cfeac1">More...</a><br /></td></tr>
<tr class="separator:acc9166d9614949b57c1b6f9db9cfeac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Modifiers</div></td></tr>
<tr class="memitem:a598dca0b9589210bf073d1fb848d3ec4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#a598dca0b9589210bf073d1fb848d3ec4">Enable</a> (bool inEnable)</td></tr>
<tr class="memdesc:a598dca0b9589210bf073d1fb848d3ec4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables or disables the undo mechanism.  <a href="#a598dca0b9589210bf073d1fb848d3ec4">More...</a><br /></td></tr>
<tr class="separator:a598dca0b9589210bf073d1fb848d3ec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee789447da0d043e0539e495d0e918eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#aee789447da0d043e0539e495d0e918eb">SetMaxLevels</a> (unsigned inMaxLevels)</td></tr>
<tr class="memdesc:aee789447da0d043e0539e495d0e918eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the maximum size of the undo/redo stacks.  <a href="#aee789447da0d043e0539e495d0e918eb">More...</a><br /></td></tr>
<tr class="separator:aee789447da0d043e0539e495d0e918eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c995f0aa2a9b6d47f424a06e2438132"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2c995f0aa2a9b6d47f424a06e2438132"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#a2c995f0aa2a9b6d47f424a06e2438132">SetActionGroupName</a> (const <a class="el" href="classB_1_1String.html">String</a> &amp;inName)</td></tr>
<tr class="memdesc:a2c995f0aa2a9b6d47f424a06e2438132"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the name of the currently open action group. <br /></td></tr>
<tr class="separator:a2c995f0aa2a9b6d47f424a06e2438132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0124095e0215cb93ceb6aa0f6d02d1a7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0124095e0215cb93ceb6aa0f6d02d1a7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#a0124095e0215cb93ceb6aa0f6d02d1a7">Clear</a> ()</td></tr>
<tr class="memdesc:a0124095e0215cb93ceb6aa0f6d02d1a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empties the undo and redo stacks. <br /></td></tr>
<tr class="separator:a0124095e0215cb93ceb6aa0f6d02d1a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Action Groups</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Action groups allow any number of undoable actions to be committed or aborted as a unit. This is important in order to make the accumulation of actions resilient in the presence of exceptions. </p>
</div></td></tr>
<tr class="memitem:ae495064c0170a3b3bd3d43bb19789644"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#ae495064c0170a3b3bd3d43bb19789644">BeginGroup</a> (const <a class="el" href="classB_1_1String.html">String</a> &amp;inName)</td></tr>
<tr class="memdesc:ae495064c0170a3b3bd3d43bb19789644"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens an action group called <em>inName</em>.  <a href="#ae495064c0170a3b3bd3d43bb19789644">More...</a><br /></td></tr>
<tr class="separator:ae495064c0170a3b3bd3d43bb19789644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa219d8cc35bedd9f633fe6adf23ecc21"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#aa219d8cc35bedd9f633fe6adf23ecc21">CommitGroup</a> ()</td></tr>
<tr class="memdesc:aa219d8cc35bedd9f633fe6adf23ecc21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commits the currently open action group.  <a href="#aa219d8cc35bedd9f633fe6adf23ecc21">More...</a><br /></td></tr>
<tr class="separator:aa219d8cc35bedd9f633fe6adf23ecc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33b597b8990ac4897ecd90f67689b49a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#a33b597b8990ac4897ecd90f67689b49a">AbortGroup</a> ()</td></tr>
<tr class="memdesc:a33b597b8990ac4897ecd90f67689b49a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aborts the currently open action group.  <a href="#a33b597b8990ac4897ecd90f67689b49a">More...</a><br /></td></tr>
<tr class="separator:a33b597b8990ac4897ecd90f67689b49a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Adding Actions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These functions adds a single undoable action to the currently open action group. If no group is open, a new group with a default name is opened. </p>
</div></td></tr>
<tr class="memitem:afdac077d0ec8136a0d9d64a1c1a83804"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#afdac077d0ec8136a0d9d64a1c1a83804">Add</a> (std::auto_ptr&lt; <a class="el" href="classB_1_1UndoAction.html">UndoAction</a> &gt; inUndoAction)</td></tr>
<tr class="memdesc:afdac077d0ec8136a0d9d64a1c1a83804"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds <em>inUndoAction</em> to the currently open action group.  <a href="#afdac077d0ec8136a0d9d64a1c1a83804">More...</a><br /></td></tr>
<tr class="separator:afdac077d0ec8136a0d9d64a1c1a83804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87fd103b7820dd3b389eb4bc5f128161"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#a87fd103b7820dd3b389eb4bc5f128161">Add</a> (<a class="el" href="classB_1_1FunctorUndoAction.html#a0afe6f81c427eb00c69959c1b4f7607a">FunctorUndoAction::FunctorType</a> inFunctor)</td></tr>
<tr class="memdesc:a87fd103b7820dd3b389eb4bc5f128161"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds <em>inFunctor</em> to the currently open action group.  <a href="#a87fd103b7820dd3b389eb4bc5f128161">More...</a><br /></td></tr>
<tr class="separator:a87fd103b7820dd3b389eb4bc5f128161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Undo &amp; Redo</div></td></tr>
<tr class="memitem:a2e0146412a6133a4ce2945ec39bfddf5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2e0146412a6133a4ce2945ec39bfddf5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#a2e0146412a6133a4ce2945ec39bfddf5">Undo</a> ()</td></tr>
<tr class="memdesc:a2e0146412a6133a4ce2945ec39bfddf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the action group at the top of the undo stack. <br /></td></tr>
<tr class="separator:a2e0146412a6133a4ce2945ec39bfddf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c7184246ef0aec502c22e259197f41e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c7184246ef0aec502c22e259197f41e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#a3c7184246ef0aec502c22e259197f41e">Redo</a> ()</td></tr>
<tr class="memdesc:a3c7184246ef0aec502c22e259197f41e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the action group at the top of the redo stack. <br /></td></tr>
<tr class="separator:a3c7184246ef0aec502c22e259197f41e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Signals</div></td></tr>
<tr class="memitem:a010037a6ac27cd974225b11f4176639d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a010037a6ac27cd974225b11f4176639d"></a>
<a class="el" href="classB_1_1UNDO__POLICY.html#abd029aceee83143205261271f9be918a">Signal</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#a010037a6ac27cd974225b11f4176639d">GetUndoSignal</a> ()</td></tr>
<tr class="memdesc:a010037a6ac27cd974225b11f4176639d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This signal is sent when an Undo is performed. <br /></td></tr>
<tr class="separator:a010037a6ac27cd974225b11f4176639d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab500a946cd02a7196547fdb51ddb6ff7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab500a946cd02a7196547fdb51ddb6ff7"></a>
<a class="el" href="classB_1_1UNDO__POLICY.html#abd029aceee83143205261271f9be918a">Signal</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#ab500a946cd02a7196547fdb51ddb6ff7">GetRedoSignal</a> ()</td></tr>
<tr class="memdesc:ab500a946cd02a7196547fdb51ddb6ff7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This signal is sent when an Redo is performed. <br /></td></tr>
<tr class="separator:ab500a946cd02a7196547fdb51ddb6ff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bc16775f8960f4d3bdf365c47d792e7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4bc16775f8960f4d3bdf365c47d792e7"></a>
<a class="el" href="classB_1_1UNDO__POLICY.html#abd029aceee83143205261271f9be918a">Signal</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classB_1_1UNDO__POLICY.html#a4bc16775f8960f4d3bdf365c47d792e7">GetActionSignal</a> ()</td></tr>
<tr class="memdesc:a4bc16775f8960f4d3bdf365c47d792e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This signal is sent when an action is added. <br /></td></tr>
<tr class="separator:a4bc16775f8960f4d3bdf365c47d792e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Template for an <a class="el" href="classB_1_1Undo.html" title="Client interface to the Undo mechanism. ">Undo</a> Policy class. </p>
<p><a class="el" href="classB_1_1UNDO__POLICY.html" title="Template for an Undo Policy class. ">UNDO_POLICY</a> isn't a class; rather, its specifies the required interface for a class in order for it to be useable as a template parameter. So for example, if a class <code>Foo</code> is declared like so:</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> UNDO_POLICY&gt; Foo { ... };</div></div><!-- fragment --><p>and class <code>Bar</code> implements the interface described herein, then one can instantiate <code>Foo</code> with <code>Bar:</code> </p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MyFoo : <span class="keyword">public</span> Foo&lt;Bar&gt; { ... };</div></div><!-- fragment --><p>Conceptually, <a class="el" href="classB_1_1UNDO__POLICY.html" title="Template for an Undo Policy class. ">UNDO_POLICY</a> maintains two stacks of action groups, one for Undo and the other for Redo. Both stacks can be arbitrarily deep, or they can have a fixed maximal size. Attempting to push an undo group onto a stack that is already at its maximum size will cause the action group at the bottom of the stack to be discarded.</p>
<p>The next question is, what's an action group? It's an ordered collection of one or more undo actions (objects derived from <a class="el" href="classB_1_1UndoAction.html" title="Abstract base class for undoable actions. ">UndoAction</a>). Action groups may be nested. They are populated by having a client call <a class="el" href="classB_1_1UNDO__POLICY.html#ae495064c0170a3b3bd3d43bb19789644" title="Opens an action group called inName. ">BeginGroup()</a>, which creates a new empty group and "opens" it. The client then calls <a class="el" href="classB_1_1UNDO__POLICY.html#afdac077d0ec8136a0d9d64a1c1a83804" title="Adds inUndoAction to the currently open action group. ">Add()</a> one or more times, which has the effect of appending each <a class="el" href="classB_1_1UndoAction.html" title="Abstract base class for undoable actions. ">UndoAction</a> to the open group. The idea is that as the client is modifying its state, it passes to <a class="el" href="classB_1_1UNDO__POLICY.html#afdac077d0ec8136a0d9d64a1c1a83804" title="Adds inUndoAction to the currently open action group. ">Add()</a> objects that are capable of restoring that state. If the client's processing proceeds normally, it closes the group by calling <a class="el" href="classB_1_1UNDO__POLICY.html#aa219d8cc35bedd9f633fe6adf23ecc21" title="Commits the currently open action group. ">CommitGroup()</a>. This pushes the group onto either the Undo or Redo stack. On the other hand, if an error occurs in the client while it was modifying its state (eg, an exception is thrown), then the client closes the group by calling <a class="el" href="classB_1_1UNDO__POLICY.html#a33b597b8990ac4897ecd90f67689b49a" title="Aborts the currently open action group. ">AbortGroup()</a> instead. <a class="el" href="classB_1_1UNDO__POLICY.html#a33b597b8990ac4897ecd90f67689b49a" title="Aborts the currently open action group. ">AbortGroup()</a> executes each undo action in the currently open group (as well as nested groups etc) before discarding the group. Thus the trio of functions <a class="el" href="classB_1_1UNDO__POLICY.html#ae495064c0170a3b3bd3d43bb19789644" title="Opens an action group called inName. ">BeginGroup()</a> / <a class="el" href="classB_1_1UNDO__POLICY.html#aa219d8cc35bedd9f633fe6adf23ecc21" title="Commits the currently open action group. ">CommitGroup()</a> / <a class="el" href="classB_1_1UNDO__POLICY.html#a33b597b8990ac4897ecd90f67689b49a" title="Aborts the currently open action group. ">AbortGroup()</a> are analogous to similarly-named transaction functions in the database world.</p>
<p>When a user issues and Undo or a Redo menu command, the top-most action group on the corresponding stack is executed, then it is discarded. Typically, the act of executing the group will trigger further calls to <a class="el" href="classB_1_1UNDO__POLICY.html#afdac077d0ec8136a0d9d64a1c1a83804" title="Adds inUndoAction to the currently open action group. ">Add()</a>, this time for Redo actions.</p>
<p>Note that the above description applies to <a class="el" href="classB_1_1UNDO__POLICY.html" title="Template for an Undo Policy class. ">UNDO_POLICY</a> generally. Some concrete implementations may collapse one or more aspects of the policy. For example, a "null" policy might have stub implementations for <a class="el" href="classB_1_1UNDO__POLICY.html#aa219d8cc35bedd9f633fe6adf23ecc21" title="Commits the currently open action group. ">CommitGroup()</a> and <a class="el" href="classB_1_1UNDO__POLICY.html#a33b597b8990ac4897ecd90f67689b49a" title="Aborts the currently open action group. ">AbortGroup()</a>, among others.</p>
<p>In addition to the "class" interface presented below, <a class="el" href="classB_1_1UNDO__POLICY.html" title="Template for an Undo Policy class. ">UNDO_POLICY</a> must also implement two other interfaces: one for Apple Events and the other for Carbon Events.</p>
<h3>Apple Event Interface</h3>
<p>This interface is required to support Undo &amp; Redo via AppleScript.</p>
<dl>
<dt><code>kAEMiscStandards / kAEUndo</code> </dt>
<dd><p class="startdd">Because this Apple Event doesn't have a direct parameter (which means we don't know who exactly is supposed to receive it), the event is translated into a <code>kEventClassCommand / kEventCommandProcess</code> Carbon Event for the <code>kHICommandUndo</code> command and sent to the user input focus.</p>
<p class="enddd"></p>
</dd>
<dt><code>kAEMiscStandards / kAERedo</code> </dt>
<dd>Because this Apple Event doesn't have a direct parameter (which means we don't know who exactly is supposed to receive it), the event is translated into a <code>kEventClassCommand / kEventCommandProcess</code> Carbon Event for the <code>kHICommandRedo</code> command and sent to the user input focus. </dd>
</dl>
<h3>Carbon Event Interface</h3>
<p>This interface is required to support decoupling the Undo Policy from its clients. One will usually want to isolate code that performs undoable state changes from the exact implementation of the Undo Policy. This is done by having such code use the functions of the <a class="el" href="classB_1_1Undo.html" title="Client interface to the Undo mechanism. ">Undo</a> class to open and close groups and add undoable actions, rather than using the Policy's member functions directly. The <a class="el" href="classB_1_1Undo.html" title="Client interface to the Undo mechanism. ">Undo</a> class translates its requests into Carbon Events which are then handled in the Undo Policy.</p>
<dl>
<dt><code>kEventClassB / kEventBUndoBegin</code> </dt>
<dd><p class="startdd">This is equivalent to calling <a class="el" href="classB_1_1UNDO__POLICY.html#ae495064c0170a3b3bd3d43bb19789644" title="Opens an action group called inName. ">BeginGroup()</a>. An optional parameter specifies the action group's name.</p>
<p>Parameters:</p>
<dl>
<dt><code>kEventParamBUndoName</code> (in, <code>typeCFStringRef</code>) </dt>
<dd>The action group's name. This parameter is optional; if absent a default name is used. </dd>
</dl>
<p class="enddd"></p>
</dd>
<dt><code>kEventClassB / kEventBUndoCommit</code> </dt>
<dd><p class="startdd">This is equivalent to calling <a class="el" href="classB_1_1UNDO__POLICY.html#aa219d8cc35bedd9f633fe6adf23ecc21" title="Commits the currently open action group. ">CommitGroup()</a>.</p>
<p class="enddd"></p>
</dd>
<dt><code>kEventClassB / kEventBUndoAbort</code> </dt>
<dd><p class="startdd">This is equivalent to calling <a class="el" href="classB_1_1UNDO__POLICY.html#a33b597b8990ac4897ecd90f67689b49a" title="Aborts the currently open action group. ">AbortGroup()</a>.</p>
<p class="enddd"></p>
</dd>
<dt><code>kEventClassB / kEventBUndoAdd</code> </dt>
<dd><p class="startdd">This is equivalent to calling <a class="el" href="classB_1_1UNDO__POLICY.html#afdac077d0ec8136a0d9d64a1c1a83804" title="Adds inUndoAction to the currently open action group. ">Add()</a>.</p>
<p>Parameters:</p>
<dl>
<dt><code>kEventParamBUndoAction</code> (in, <code>typeBUndoAction</code>) </dt>
<dd>The undoable action, of a type derived from <a class="el" href="classB_1_1UndoAction.html" title="Abstract base class for undoable actions. ">UndoAction</a>. </dd>
</dl>
<p class="enddd"></p>
</dd>
<dt><code>kEventClassB / kEventBUndoEnable</code> </dt>
<dd><p class="startdd">This is equivalent to calling <a class="el" href="classB_1_1UNDO__POLICY.html#a598dca0b9589210bf073d1fb848d3ec4" title="Enables or disables the undo mechanism. ">Enable()</a>.</p>
<p>Parameters:</p>
<dl>
<dt><code>kEventParamBUndoEnable</code> (in, <code>typeBoolean</code>) </dt>
<dd>The argument to pass to <a class="el" href="classB_1_1UNDO__POLICY.html#a598dca0b9589210bf073d1fb848d3ec4" title="Enables or disables the undo mechanism. ">Enable()</a>. </dd>
</dl>
</dd>
</dl>
<p>Currently, two classes take undo policies as template parameters: <a class="el" href="classB_1_1Application.html" title="The application object. ">Application</a> and <a class="el" href="classB_1_1Document.html" title="A concrete Document class. ">Document</a>.</p>
<p>There are currently 3 examples of implementations of <a class="el" href="classB_1_1UNDO__POLICY.html" title="Template for an Undo Policy class. ">UNDO_POLICY</a>:</p>
<ul>
<li><a class="el" href="classB_1_1NullUndoPolicy.html" title="Do-nothing undo policy. ">NullUndoPolicy</a>, for applications that don't need to support Undo.</li>
<li><a class="el" href="classB_1_1MultipleUndoPolicy.html" title="Multiple undo policy. ">MultipleUndoPolicy</a>, for applications that need separate Undo and Redo stacks of arbitrary size.</li>
<li><a class="el" href="classB_1_1SingleUndoPolicy.html" title="Single undo policy. ">SingleUndoPolicy</a>, for applications that need only a simple 1-level-deep Undo. </li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="adcd53cae421ddae23a4e42db6f1b066d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">B::UNDO_POLICY::UNDO_POLICY </td>
          <td>(</td>
          <td class="paramtype">EventTargetRef&#160;</td>
          <td class="paramname"><em>inTarget</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classB_1_1Bundle.html">Bundle</a> &amp;&#160;</td>
          <td class="paramname"><em>inBundle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<p>Typically installs Carbon Event handlers on <em>inTarget</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inTarget</td><td>The event target onto which the object can install handlers. </td></tr>
    <tr><td class="paramname">inBundle</td><td>The bundle from which to retrieve resources. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a99d8b2e3769ee6f590f68f6c9396051f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void B::UNDO_POLICY::RegisterAppleEvents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classB_1_1AEObjectSupport.html">AEObjectSupport</a> &amp;&#160;</td>
          <td class="paramname"><em>ioObjectSupport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Installs Apple Event handlers for Undo-related AppleEvents. </p>
<p>Note that this should only ever be called for the Undo Policy object that is attached to the <a class="el" href="classB_1_1Application.html" title="The application object. ">Application</a> object. That's because there is only one application-wide Apple Event handler for the Undo and Redo events. </p>

<p>Referenced by <a class="el" href="classB_1_1Application.html#a50a9521746861ec9498e930cfe266ee6">B::Application&lt; DOC_POLICY, UNDO_POLICY, PRINT_POLICY &gt;::RegisterAppleEvents()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4e49547369ac15ac9b493f5fba5d7a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool B::UNDO_POLICY::IsEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns <code>true</code> if the undo mechanism is enabled. </p>
<p>"Enabled" in this context means that undo actions can be added to the undo or redo stacks. </p>

</div>
</div>
<a class="anchor" id="ad59b4fe744859f119c889b1a4700de51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classB_1_1String.html">String</a> B::UNDO_POLICY::GetUndoText </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a string describing the action group at the top of the undo stack. </p>
<p>The string is in a form suitable for placing in a menu. </p>

<p>Referenced by <a class="el" href="classB_1_1UndoPolicyEvents.html#abbd79ce0dcd098f18d33599006ce3dc6">B::UndoPolicyEvents&lt; UNDO_POLICY &gt;::RegisterAppleEvents()</a>.</p>

</div>
</div>
<a class="anchor" id="acc9166d9614949b57c1b6f9db9cfeac1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classB_1_1String.html">String</a> B::UNDO_POLICY::GetRedoText </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a string describing the action group at the top of the redo stack. </p>
<p>The string is in a form suitable for placing in a menu. </p>

<p>Referenced by <a class="el" href="classB_1_1UndoPolicyEvents.html#abbd79ce0dcd098f18d33599006ce3dc6">B::UndoPolicyEvents&lt; UNDO_POLICY &gt;::RegisterAppleEvents()</a>.</p>

</div>
</div>
<a class="anchor" id="a598dca0b9589210bf073d1fb848d3ec4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void B::UNDO_POLICY::Enable </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>inEnable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables or disables the undo mechanism. </p>
<p>Each call with <em>inEnable</em> = <code>false</code> prevents undoable actions from being added to the open action group; each call with <em>inEnable</em> = <code>true</code> allows it to happen again. Each call to Enable(false) must be balanced with a call to Enable(true).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inEnable</td><td><code>true</code> to enable the undo mechanism, <code>false</code> to disable it. </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="classB_1_1UndoPolicyEvents.html#abbd79ce0dcd098f18d33599006ce3dc6">B::UndoPolicyEvents&lt; UNDO_POLICY &gt;::RegisterAppleEvents()</a>.</p>

</div>
</div>
<a class="anchor" id="aee789447da0d043e0539e495d0e918eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void B::UNDO_POLICY::SetMaxLevels </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>inMaxLevels</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the maximum size of the undo/redo stacks. </p>
<p>If a transaction is committed and there are already <em>inMaxLevels</em> transactions stored in the Undo Policy, the oldest transaction is discarded.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inMaxLevels</td><td>The maximum size of the undo &amp; redo stacks. Value of <code>UINT_MAX</code> results in an unlimited stack size. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae495064c0170a3b3bd3d43bb19789644"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void B::UNDO_POLICY::BeginGroup </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classB_1_1String.html">String</a> &amp;&#160;</td>
          <td class="paramname"><em>inName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens an action group called <em>inName</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inName</td><td>The group's name. If it's empty, a default value is used. The name is visible to the user and so should be localised. </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="classB_1_1UndoPolicyEvents.html#abbd79ce0dcd098f18d33599006ce3dc6">B::UndoPolicyEvents&lt; UNDO_POLICY &gt;::RegisterAppleEvents()</a>.</p>

</div>
</div>
<a class="anchor" id="aa219d8cc35bedd9f633fe6adf23ecc21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void B::UNDO_POLICY::CommitGroup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commits the currently open action group. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::logic_error</td><td>If there isn't an open action group. </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="classB_1_1UndoPolicyEvents.html#abbd79ce0dcd098f18d33599006ce3dc6">B::UndoPolicyEvents&lt; UNDO_POLICY &gt;::RegisterAppleEvents()</a>.</p>

</div>
</div>
<a class="anchor" id="a33b597b8990ac4897ecd90f67689b49a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void B::UNDO_POLICY::AbortGroup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Aborts the currently open action group. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::logic_error</td><td>If there isn't an open action group. </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="classB_1_1UndoPolicyEvents.html#abbd79ce0dcd098f18d33599006ce3dc6">B::UndoPolicyEvents&lt; UNDO_POLICY &gt;::RegisterAppleEvents()</a>.</p>

</div>
</div>
<a class="anchor" id="afdac077d0ec8136a0d9d64a1c1a83804"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void B::UNDO_POLICY::Add </td>
          <td>(</td>
          <td class="paramtype">std::auto_ptr&lt; <a class="el" href="classB_1_1UndoAction.html">UndoAction</a> &gt;&#160;</td>
          <td class="paramname"><em>inUndoAction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds <em>inUndoAction</em> to the currently open action group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inUndoAction</td><td>An undoable action. It's wrapped in an <code>std::auto_ptr</code> to emphasise the fact that ownership is transferred to the policy object. </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="classB_1_1UndoPolicyEvents.html#abbd79ce0dcd098f18d33599006ce3dc6">B::UndoPolicyEvents&lt; UNDO_POLICY &gt;::RegisterAppleEvents()</a>.</p>

</div>
</div>
<a class="anchor" id="a87fd103b7820dd3b389eb4bc5f128161"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void B::UNDO_POLICY::Add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classB_1_1FunctorUndoAction.html#a0afe6f81c427eb00c69959c1b4f7607a">FunctorUndoAction::FunctorType</a>&#160;</td>
          <td class="paramname"><em>inFunctor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds <em>inFunctor</em> to the currently open action group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inFunctor</td><td>A functor taking no arguments and returning no result. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="BUndoPolicyConcept_8h_source.html">BUndoPolicyConcept.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
